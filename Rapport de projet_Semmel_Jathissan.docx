Rapport de projet

Projet 4 livraison de pizza

	Nous avons choisi de traiter le projet 4 qui modélise la gestion d'une entreprise de fabrication et de livraison de pizzas, en l’occurrence ici la société se nomme Rapizza.
Pour ce faire, nous avons dans un premier temps effectué un diagramme de classe sur le logiciel StarUML. Cette étape consistait à identifier toutes les classes dont nous aurions besoin afin de pouvoir modéliser au mieux notre entreprise. Une fois les classes identifiées on devait ensuite leur attribuer les différents attributs et identifiés les méthodes qui les composent. Enfin, il nous restait plus qu’à effectuer les liens entre chaque classe pour que notre modèle puisse être opérationnel. La conception de ce diagramme nous a été très utile car, par la suite nous avions pu générer toutes nos classes en java, il ne nous restait plus qu’à programmer les différentes méthodes.
Ainsi, pour notre modélisation de gestion d'une entreprise de fabrication et de livraison de pizzas, nous avons identifié 9 classes. 
-	Classe Pizzaria : elle a comme attributs, un nom, une adresse, un catalogue, une liste de clients, de livreurs et d’ingrédients, et enfin d’un ca (chiffre d’affaires) initialisé à 0, on verra par la suite à quoi cela correspond précisément. 
Cette classe permet : 
D’ajouter un client, d’en supprimer, idem pour les livreurs, et les ingrédients. A noter que lorsque nous supprimons un client, on récupère son ca, (l’argent qu’il a rapporté à la pizzaria en commandant). On peut aussi calculer le chiffre d’affaires de la pizzaria en prenant en compte aussi l’argent rapporté par les clients supprimés. On a 2 méthodes qui permettent de savoir si un livreur existe, une par le nom et une par le moyen de transport, et la dernière méthode concernant les livreurs permet de retourner un livreur dont le nom et le transport sont donnés en paramètre. Nous avons cette même méthode avec les clients et leur numéro de téléphone ainsi qu’avec les ingrédients et leur nom. Enfin nous avons une dernière méthode pour connaitre les points de fidélité d’un client ainsi que le nombre de pizza gratuite dont il est éligible (toutes les 10 pizzas acheté, 1 pizza gratuite).
-	Classe Pizza : elle a comme attributs un nom, un prix, et une liste de ligne recette.
Cette classe permet :
De retourner les ingrédients d’une pizza ainsi que de savoir si elle est réalisable lorsque le client passe la commande (s’il y a assez d’ingrédients en stock), si ce n’est pas les cas, elle nous indique les ingrédients manquants.
-	Classe Livreur : elle a comme attributs un nom, un moyen de transport une Pizzaria et une liste de commande. Cette classe permet d’ajouter des commandes à la liste.
-	Classe LigneRecette : elle a comme attributs un Ingrédient et une quantité. Cette classe n’a pas de méthode particulière.
-	Classe LigneCommande : elle a comme attributs, une quantité, une taille, une Commande et une Pizza. Elle a une méthode qui permet de calculer le prix de la ligne de commande ainsi qu’une méthode pour savoir si la ligne de commande est réalisable (même principe que pour la pizza réalisable).
-	Classe Ingredient : elle a comme attributs, un nom et une quantité. Elle a une méthode pour supprimer une quantité d’ingrédient du stock.
-	Classe Commande : elle a comme attributs, un Client, un Livreur, une liste de ligne commandes et une Pizzaria. Cette classe a plusieurs méthodes. Une pour savoir si le client qui passe la commande a un solde suffisant, une qui choisis aléatoirement un livreur et une qui calcul le prix total de la commande. On peut aussi ajouter et retirer une ligne commande, calculer le nombre de pizzas de la commande et enfin vérifier si une commande est faisable.
-	Class Client : elle a un numéro, un nombre de commande initialisé a 0, un nombre de points fidélité, un solde et une liste de commande. On peut ajouter une commande, calculer le chiffre d’affaires du client, retourner les n dernières commande d’un client, et créditer de l’argent sur son compte.
-	Classe Catalogue : elle a comme attributs une liste de pizzas.
On peut ajouter ou supprimer des pizzas, trouver une pizza par le nom, et filtrer les pizzas par ingrédient.
Une fois que nous avions eu nos 9 classes (model), nous avons créé l’interface graphique ce qui nécessitait la création de 2 nouveaux package (view et controleur). Dans le package view, nous avons mis toutes les classes représentant une fenêtre, que ce soit une fenêtre principale ou sous-affichages dans une fenêtre principal et dans le package controleur, tout ce qui concerne les actions effectuées par chaque bouton.
Et c’est ainsi que nous avons modélisé la gestion d'une entreprise de fabrication et de livraison de pizzas.
Cette modélisation permet d’effectuer plusieurs tâches que nous allons expliquer ci-dessous.
Premièrement, on crée une classe Test pour initialiser tous nos éléments :                                                         
Le nom et l’adresse de la pizzaria, les différents clients de cette dernière, les livreurs les ingrédients, les lignes recettes ainsi que les pizzas. Ensuite on lance le programme et une première page s’affiche avec en haut le nom de la pizzaria et en bas l’adresse, et au milieu 2 boutons, une destine au client et une à la pizzaria.
On va d’abord s’intéresser à la partie pizzaria. Lorsqu’on clique sur le bouton on a une page qui s’ouvre nous demandant de rentrer le mot de passe (le mot de passe est « jsp »), si on rentre le mauvais mot de passe un message d’erreur apparait. Une fois le mot de passe entrer la page se ferme puis une nouvelle page s’ouvre avec 3 boutons, destiné respectivement à la gestion des clients, des pizzas et ingrédients et enfin la gestion des livreurs.
Pour la gestion client, lorsqu’on clique sur le bouton on a une grande fenêtre dans laquelle il y a plusieurs petite fenêtres, une qui correspond à la liste des clients avec leurs caractéristiques, une pour supprimer un ou plusieurs clients en l’identifiant par son numéro de téléphone (a noter que l’on a la possibilité d’annuler la suppression tant que l’on a pas confirmé l’annulation), une pour créé un client ou plusieurs toujours avec la possibilité d’annuler (à noter qu’a chaque fois que l’on apporte une modification à la liste des clients, l’affichage de cette dernière s’actualise automatiquement). On a un affichage pour voir le nombre de points fidélité d’un client et son nombre de pizzas gratuites dont il a le droit, un affichage pour calculer le chiffre d’affaires du client ou de la pizzaria et enfin un affichage pour afficher les n dernières commandes d’un client (s’il a passé des commandes).
Pour la gestion des pizzas et ingrédients, on a la liste des pizzas ainsi que celle des ingrédients, on peut ajouter une pizza (si elle n’existe pas) et supprimer une ou plusieurs pizzas, pareil pour les ingrédients (si on décide de supprimer un ingrédient, toutes les pizzas contenant cet ingrédient seront supprimées, et si on ajoute un ingrédient existant, cela va juste réapprovisionner son stock. Bien entendu l’affichage des listes s’actualise à chaque fois.
Pour la gestion livreur, même principe on peut créer un livreur ou plusieurs livreurs, s’ils ont le même prénom, ils ne doivent pas avoir le même moyen de transport, on peut supprimer un ou plusieurs livreurs et afficher les commandes qu’ils ont livrés.
Pour la partie client, lorsqu’on clique sur le bouton on nous demande un numéro de téléphone (par exemple 909088), une fois le numéro entré, la page d’identification se ferme et une nouvelle fenêtre s’ouvre avec en gros en haut le numéro de téléphone du client et au milieu 2 boutons, un pour créditer le solde du client et un autre pour commander.                                                                                                             
La partie solde du client étant assez basique, on va s’intéresser à la partie Commande.                           
Lorsqu’on clique sur commander on a une page qui s’ouvre sur laquelle il y a le catalogue, une petite fenêtre pour filtrer les pizzas du catalogue par ingrédient, et une autre fenêtre pour afficher toutes les lignes recettes d’une pizza. Enfin on a la fenêtre pour passer une commande, il nous suffit de choisir la pizza, la taille et la quantité souhaité puis cliquer sur Add, on peut retirer la dernière ligne commande à tout moment, une fois qu’on a cliqué sur Add on a le récapitulatif de la ligne commande que s’affiche avec le prix et on répète cela autant de fois que souhaité. Une fois que l’on valide la commande, il y a plusieurs vérifications qui s’effectuent. D’abord si la commande n’est pas vide, ensuite si elle est faisable, si ce n’est pas le cas un message d’erreur apparait indiquant l’ingrédient qui manque, si la commande est faisable on vérifie si le client a le droit à des pizzas gratuites et si c’est le cas on déduit des premières pizzas commandées, une fois déduction faite on vérifie si le prix de la commande (ou le prix après déduction) est inférieur au solde du client et si c’est pas le cas, un message d’erreur apparait, et si toutes les conditions sont validées on a le récapitulatif de la commande avec le total, et le nom du livreur avec son moyen de transport qui apparait à la place de la fenêtre pour passer une commande. C’est à ce moment qu’on incrémente le chiffre d’affaires, le nombre de commande du client, qu’on décrémente son solde et ajoute à la liste des commandes du livreur et du client en question la commande passée.

